<ui:FluentWindow
    x:Class="dosymep.WpfUI.Core.Windows.WpfUINotificationWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:dosymep.WpfUI.Core.Windows"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"

    x:Name="_this"
    mc:Ignorable="d"

    Width="385"
    MinWidth="385"
    MaxWidth="385"

    Height="90"
    MinHeight="90"

    Topmost="True"
    ShowInTaskbar="False"
    
    ResizeMode="NoResize"
    SizeToContent="Height"

    DataContext="{Binding ElementName=_this}">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <ui:TitleBar
            Grid.Row="0"
            Grid.Column="1"
            Height="35"
            ShowClose="True"
            ShowMinimize="False"
            ShowMaximize="False">

            <ui:TitleBar.Header>
                <ui:TextBlock
                    Margin="14 8"
                    FontWeight="Bold"
                    Appearance="Primary"
                    Text="{Binding Title}" />
            </ui:TitleBar.Header>
        </ui:TitleBar>

        <ui:TextBlock
            Grid.Row="1"
            Grid.Column="1"
            Margin="14 0"
            FontSize="13"
            TextWrapping="Wrap"
            Appearance="Secondary"
            VerticalAlignment="Top"
            HorizontalAlignment="Left"
            Text="{Binding Body}" />

        <ui:TextBlock
            Grid.Row="3"
            Grid.Column="1"
            Margin="14 4"
            FontSize="10"
            FontStyle="Italic"
            HorizontalAlignment="Right"
            Text="{Binding Author}" />

        <ui:TextBlock
            Grid.Row="3"
            Grid.Column="1"
            Margin="14 4"
            FontSize="10"
            FontStyle="Italic"
            HorizontalAlignment="Left"
            Text="{Binding Footer}" />
        
        <Image
            Grid.Row="0"
            Grid.Column="0"
            Grid.RowSpan="4"
            Width="96"
            Margin="14 4 0 4"
            Source="{Binding ImageSource}">
            <Image.Style>
                <Style TargetType="{x:Type Image}">
                    <Style.Triggers>
                        <Trigger Property="Source" Value="{x:Null}">
                            <Setter Property="Visibility" Value="Collapsed" />
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </Image.Style>
        </Image>
    </Grid>
</ui:FluentWindow>